<!doctype html>
<html class="no-js" lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>IPFS Cloud</title>

  <link rel="shortcut icon" href="https://gateway.ipfs.io/ipfs/QmQdNiAkgBdbDpscdnQAyEaNfKTgiYXwohFcwmmCGVGQNv">

  <!-- Facebook and Twitter integration -->
  <meta property="og:title" content="IPFS Cloud"/>
  <meta property="og:image:type" content="image/jpeg" />
  <meta property="og:image" content="https://gateway.ipfs.io/ipfs/QmRz5obNbnr6ShiKxpU5cJf67dXfCmRXyT9eEVELzrEyyE"/>
  <meta property="og:url" content="http://ipfscloud.store" />
  <meta property="og:site_name" content="IpfsCloud"/>
  <meta property="og:description" content="A Decentralised Cloud Storage Platform. Upload and Store documents, Photos, Videos, Movies. A fully decentralized, free and unlimited cloud storage platform."/>
  <meta property="og:image:alt" content="IpfsCloud" />
  <meta name="description" content="A Decentralised Cloud Storage Platform. Upload and Store documents, Photos, Videos, Movies. A fully decentralized, free and unlimited cloud storage platform.">

  
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
    crossorigin="anonymous">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="css/shards.min.css?v=2.0.1">
  <link rel="stylesheet" href="css/shards-demo.min.css?v=2.0.1">
  <link rel="stylesheet" href="css/loader.css">

  <style>
  .dropbtn {
      padding: 16px;
      font-size: 16px;
      border: none;
      cursor: pointer;
  }

  .dropbtn:hover, .dropbtn:focus {
      
  }

  .dropdown {
      position: relative;
      display: inline-block;
  }

  .dropdown-content {
      display: none;
      position: absolute;
      background-color: #f1f1f1;
      min-width: 160px;
      overflow: auto;
      box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
      z-index: 1;
  }

  .dropdown-content a {
      color: black;
      padding: 12px 16px;
      text-decoration: none;
      display: block;
  }

  .dropdown a:hover {}

  .show {display: block;}

  .cardx {
      box-shadow: 0 4px 8px 0 rgba(0,0,0,0.2);
      transition: 0.3s;
      width: 80%;
      border-radius: 10px;
  }

  .cardx:hover {
      box-shadow: 0 8px 16px 0 rgba(0,0,0,0.2);
  }

  .container {
      padding: 2px 16px;
  }
  </style>

  <style type="text/css">
    #customBtn {
      display: inline-block;
      background: white;
      color: #444;
      width: 190px;
      border-radius: 5px;
      border: thin solid #888;
      box-shadow: 1px 1px 1px grey;
      white-space: nowrap;
    }
    #customBtn:hover {
      cursor: pointer;
    }
    span.label {
      font-family: serif;
      font-weight: normal;
    }
    
    span.buttonText {
      display: inline-block;
      vertical-align: middle;
      padding-left: 42px;
      padding-right: 42px;
      font-size: 14px;
      font-weight: bold;
      /* Use the Roboto font that is loaded in the <head> */
      font-family: 'Roboto', sans-serif;
    }
  </style>

  <!--FIREBASE-->
  <script src="https://www.gstatic.com/firebasejs/5.4.2/firebase.js"></script>
  

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
  <script src="https://unpkg.com/ipfs-api/dist/index.min.js"></script>
  <script src="js/bundle.js"></script>
  <script src="js/qrcode.js"></script>
  
</head>

<body>

<script>
  window.fbAsyncInit = function() {
    FB.init({
      appId      : '720721218260653',
      cookie     : true,
      xfbml      : true,
      version    : 'v3.1'
    });
      
    FB.AppEvents.logPageView();   
      
  };

  (function(d, s, id){
     var js, fjs = d.getElementsByTagName(s)[0];
     if (d.getElementById(id)) {return;}
     js = d.createElement(s); js.id = id;
     js.src = "https://connect.facebook.net/en_US/sdk.js";
     fjs.parentNode.insertBefore(js, fjs);
   }(document, 'script', 'facebook-jssdk'));
</script>




  <div class="loader">
    <div class="page-loader"></div>
  </div>

  <!-- Floating Logo -->
  

  <!--Other logos-->
  <!--
    white logo small: https://gateway.ipfs.io/ipfs/Qma5cPfuVWw21a4787czwJvpEHfPrsBk3UG6nmxmWyTSGL
    white logo big: https://gateway.ipfs.io/ipfs/QmR1HX19JiMMh5HUzzE9Xc9jWjJMMn7XkGcatAsotb6YWc
    black logo: https://gateway.ipfs.io/ipfs/QmfMZKjD8Ce6pyfMq9w8xrLvFetaFvpPcp1agEde3VQ7KA
    green logo: https://gateway.ipfs.io/ipfs/QmVxCb7AaRG1Hpf45mmR8ZUkSYU2Rf7UTXWUqANwqZar4X
  -->


  <!-- Welcome Section -->
  <div class="welcome d-flex justify-content-center flex-column">
    <div class="inner-wrapper mt-auto mb-auto">
      <h1 class="slide-in">IpfsCloud</h1>
      <p class="slide-in">A Decentralised Cloud Storage Platform.</p>
      <div class="action-links slide-in">
        <div class="section-title col-lg-8 col-md-10 ml-auto mr-auto">
          <h6 class="text-muted mb-3">Upload documents, Photos, Videos, Movies...</h6>
            <fieldset>
              <div class="custom-file w-100" id="upload">
                <form onSubmit={this.onSubmit} id="uploadForm">
                  <input type="file" class="custom-file-input" id="customFile" onchange="loadFile(event)"/>
                    <label class="custom-file-label" for="customFile"><font color="#939aa1">Choose or drop a file...</font></label>
                </form>
              </div>
              <br><br>
              <h6 class="text-muted mb-3" id="uploadStatus">
                <div id="firebase_login">
                <font color="blue" data-toggle="modal" data-target="#signUpModal">SignUp</font> to use the cloud</div>
                <small>Want to use metamask login intead? Head up <a href="http://eth.ipfscloud.store">here</a>.</small>
                <font id="no_web3_provider"></font>
              </h6>
            </fieldset>
            <small id="userId" data-toggle="modal" data-target="#exampleModal" onclick="makeCode()"></small>
        </div>
      </div>
    </div>
    <div class="product-by">
      <a href="https://ipfs.io" target="_blank">
        <p>Powered By</p>
        <img src="https://gateway.ipfs.io/ipfs/QmZUGJv8auabS2VuL2JMYuP6VPFtKnPMZEFNJE3736oCCg" width="64px" height="29px">
      </a>
    </div>
    

<!--Mobile Sync Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Scan and Sync with your Mobile Device</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <center><div id="qrcode" style="width:200px; height:200px; margin-top:15px;"></div></center>
      </div>
    </div>
  </div>
</div>


<!--SignUp Modal -->
<div class="modal fade" id="signUpModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true" onclick="checkLoginStatus()">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">SignUp</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body" id="login_methods">
          <div id="gSignInWrapper">
            <div id="customBtn" class="customGPlusSignIn" onclick="signInAnonymously()">
              &nbsp;&nbsp;<span class="icon"><img src="https://gateway.ipfs.io/ipfs/QmdafK9AH3G134NRc2ErUBiWhmk79HEU7wB7CBHQbwScQy" width="38px" height="38px"></span>
              <span class="buttonText">Anonymous</span>
            </div>
          </div>
          <br>
          <div id="gSignInWrapper">
            <div id="customBtn" class="customGPlusSignIn" onclick="signInViaGoogle()">
              &nbsp;<span class="icon"><img src="https://gateway.ipfs.io/ipfs/QmUJnqvC6oX1oeTLHtvbw2zhATaifyPzkAqpTVYLcvnUaQ" width="38px" height="38px"></span>
              <span class="buttonText">Google</span>
            </div>
          </div>
          <br>
          <div id="gSignInWrapper">
            <div id="customBtn" class="customGPlusSignIn" onclick="signInViaFacebook()">
              &nbsp;&nbsp;<span class="icon"><img src="https://gateway.ipfs.io/ipfs/QmPqj5j5FU2oj7r6q93yRZi8xCoawNPF1c4PdPiaVKMU5Z" width="44px" height="38px"></span>
              <span class="buttonText">Facebook</span>
            </div>
          </div>
      </div>
    </div>
  </div>
</div>


  </div>

  <!-- Page Content -->
  <div class="page-content">
    <!-- Content -->
    <div class="content clearfix">

      <!-- Email Modal -->
<div class="modal fade" id="emailModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Share via email</h5><p id="email_data"></p>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body" id="email-body">
        <center>
          <div>
            <label for="form1-email" class="col-form-label">Email</label>
            <input type="email" class="form-control" id="form1-email" placeholder="vasa@abc.com"><br><br>
            <button type="button" class="btn btn-primary" onclick="shareViaEmail()">Send</button>
          </div>
        </center>
      </div>
    </div>
  </div>
</div>

      <!-- Blockchain Modal -->
<div class="modal fade" id="pubKeyModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Share via publicKey</h5><p id="pubKey_data"></p>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body" id="pubKey-body">
        <center>
          <div>
            <label for="form1-email" class="col-form-label">PublicKey</label>
            <input type="email" class="form-control" id="form1-pubKey" placeholder="0x1158f15e74dcec06aeaeeba5b0eaa8461c73db36"><br><br>
            <p><font color="red" id="invalid_pubkey"></font></p>
            <button type="button" class="btn btn-primary" onclick="shareViaPubKey()">Send</button>
          </div>
        </center>
      </div>
    </div>
  </div>
</div>


      <div id="cards" class="container mb-2" style="padding-bottom: 1px">
        <div class="section-title col-lg-8 col-md-10 ml-auto mr-auto">
          <h3 class="mb-4">Your Documents</h3>
          <hr>
          <!-- <div class="btn-group btn-group-toggle" data-toggle="buttons">
            <label class="btn btn-outline-primary active">
              <input type="radio" name="options" id="option1" autocomplete="off" checked="" onclick="showFirebase()"> Cloud
            </label>
            <label class="btn btn-outline-primary">
              <input type="radio" name="options" id="option2" autocomplete="off" onclick="showBlockchain()"> Blockchain
            </label>
          </div> -->
          <p id="no_doc_msg">No document uploaded</p>
        </div>
        <div id="documentList"></div>
      </div>

      <br>

      <div id="cards" class="container mb-2" style="padding-bottom: 1px">
        <div class="section-title col-lg-8 col-md-10 ml-auto mr-auto">
          <h3 class="mb-4">Shared with me</h3>
          <hr>
          <!-- <div class="btn-group btn-group-toggle" data-toggle="buttons">
            <label class="btn btn-outline-primary active">
              <input type="radio" name="options" id="option1" autocomplete="off" checked="" onclick="showFirebase()"> Cloud
            </label>
            <label class="btn btn-outline-primary">
              <input type="radio" name="options" id="option2" autocomplete="off" onclick="showBlockchain()"> Blockchain
            </label>
          </div> -->
          <p id="no_shared_doc_msg">No shared documents</p>
        </div>
        <div id="sharedList"></div>
      </div>
<!-- <div oncontextmenu="javascript:alert('success!');return false;">
    Lorem Ipsum
</div> -->
      <footer class="main-footer py-5">
      <p class="text-muted text-center small p-0 mb-4">&copy; Copyright 2018 â€” vasa</p>
      <div class="social d-table mx-auto">
        <a class="twitter mx-3 h4 d-inline-block text-secondary" href="https://twitter.com/vasa_develop" target="_blank">
          <i class="fa fa-twitter"></i>
          <span class="sr-only">View my Twitter Profile</span>
        </a>
        <a class="facebook mx-3 h4 d-inline-block text-secondary" href="https://medium.com/@vaibhavsaini_67863" target="_blank">
          <i class="fa fa-medium"></i>
          <span class="sr-only">View my Medium Profile
            <span>
        </a>
        <a class="github mx-3 h4 d-inline-block text-secondary" href="https://github.com/vasa-develop" target="_blank">
          <i class="fa fa-github"></i>
          <span class="sr-only">View my GitHub Profile</span>
        </a>
        <a class="facebook mx-3 h4 d-inline-block text-secondary" href="https://www.facebook.com/vasa.developx" target="_blank">
          <i class="fa fa-facebook"></i>
          <span class="sr-only">View my Facebook Profile
            <span>
        </a>
        <a class="facebook mx-3 h4 d-inline-block text-secondary" href="mailto:vasa@towardsblockchain.com" target="_blank">
          <i class="fa fa-envelope"></i>
          <span class="sr-only">Contact me via email
            <span>
        </a>
      </div>
    </footer>


    </div>
  </div>

      

  <script type="text/javascript">


    

    /*function submitToBlockchain(a, type){
      console.log("type: "+type);
      web3.eth.defaultAccount = web3.eth.accounts[0];
      console.log("ACCOUNT: "+ web3.eth.defaultAccount);
      var EthGramCore = web3.eth.contract([
  {
    "constant": false,
    "inputs": [
      {
        "name": "data",
        "type": "string"
      },
      {
        "name": "separator",
        "type": "string"
      }
    ],
    "name": "AddImageData",
    "outputs": [],
    "payable": false,
    "stateMutability": "nonpayable",
    "type": "function"
  },
  {
    "constant": true,
    "inputs": [],
    "name": "getUserData",
    "outputs": [
      {
        "name": "",
        "type": "string"
      }
    ],
    "payable": false,
    "stateMutability": "view",
    "type": "function"
  }
]);

              var EthGram = EthGramCore.at('0x4047b5cc5b52ce72fe158b89c9dd8a0a5ae11329');

              EthGram.AddImageData(a.toString(), ",", function(error, result){
                  if(error){
                      console.log("Error submitting data to blockchain!!");
                  }
                  else{
                      console.log("TransactionHash: ",result);
                      //update database
                      var firestore = firebase.firestore();
                      var userDocRef = firestore.doc("users/"+web3.eth.defaultAccount);
                      userDocRef.get().then((doc)=>{
                        if(doc && doc.exists){
                          var myData = doc.data();
                          if(type == 'documents'){
                            myData.documents[a].isSavedOnBlockchain = true;

                            userDocRef.update({"documents": myData.documents}).then(()=>{
                            console.log("Updated status of database successfully.");
                          }).catch((error)=>{
                            console.log("Some error occurred while update status of the database: "+error);
                          });


                          }else if(type == 'shared'){
                            myData.shared[a].isSavedOnBlockchain = true;

                            userDocRef.update({"shared": myData.documents}).then(()=>{
                            console.log("Updated status of database successfully.");
                          }).catch((error)=>{
                            console.log("Some error occurred while update status of the database: "+error);
                          });

                          }
                        }
                      });

                  }
              });
    }*/

    


  </script>
  <script type="text/javascript">
    var qrcode = new QRCode(document.getElementById("qrcode"), {
      width : 200,
      height : 200
    });
    function makeCode () {
      qrcode.makeCode(firebase.auth().currentUser.uid);
    }
    </script>
  <!-- JavaScript -->
  <div id="fb-root"></div>
  <script async defer src="https://buttons.github.io/buttons.js"></script>
  <script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js" integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4"
    crossorigin="anonymous"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
    crossorigin="anonymous"></script>
  <script src="js/shards.min.js"></script>
  <script src="js/demo.min.js"></script>
  <script src="js/app.js"></script>
</body>

</html>